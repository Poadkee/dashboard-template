{% extends 'base-sidebar.html' %} 
{% set active_page = "users" %}
{% block content_sidebar %}
<div class="p-3">
  <div class="d-flex">
    <div class="flex-grow-1">
      <h2>User Management</h2>
    </div>
    <div class="align-self-center">
      <a href="register">
        <button type="button" class="btn btn-outline-primary">Add New User</button>
      </a>
    </div>
  </div>
  <hr class="hr" />
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Email</th>
      </tr>
    </thead>
    <tbody id="log">
      <!-- loop data here -->
    </tbody>
  </table>
  <div class="d-flex justify-content-end">
    <nav aria-label="Page navigation example">
      <ul class="pagination">
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="-1">Previous</a>
        </li>
        <li class="page-item active">
          <a class="page-link" href="#">1</a>
        </li>
        <li class="page-item disabled">
          <a class="page-link" href="#" tabindex="+1">Next</a>
        </li>
      </ul>
    </nav>
  </div>
</div>
<script>
  name = {{name | tojson}};
  data = {{data | tojson}};
  tb = ``;
  index = 1;
  for(d of data){
    if(d.email == name){ // if this user is you
      tb += `
        <tr style="background-color: #D6EEEE;">
          <th scope="row">${index}</th>
          <td>${d.email}</td>
        </tr>
      `
    }else{
      tb += `
        <tr>
          <th scope="row">${index}</th>
          <td>${d.email}</td>
        </tr>
      `
    }
    index += 1;
  }
  document.getElementById("log").innerHTML = tb;
</script>
{% endblock %}
